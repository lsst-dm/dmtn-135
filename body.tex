% Tables from https://docs.google.com/spreadsheets/d/1DiFTjsC4dP8XyOV7-uF0zwkl0r0jMuW9U9uELejpmn8/edit#gid=0
\section{Introduction}
This document presents the simplified
  sizing model for Rubin Observatory data management  in \secref{sec:sizemodel} based on detailed sizing presented in \secref{sec:sizeinputs}.
\secref{sec:cost} presents a very high level budget summary for
DM hardware.

This version is in agreement with SLAC on the parameters for CPU and disk price fall as well as CPU cost etc.

\section{Construction  budget}\label{sec:cost}

A high level bottom line is given in \tabref{tab:Summary}.
The remainder of the document is all the details that went into that.

\input{Summary}

We have applied a modest cost reduction assuming that processors  and disks get a little cheaper - that
percentage is given in \tabref{tab:Inputs} along with many other parameters. \tabref{tab:Inputs} also contains the number of nodes we assume to need for Qserv.

Specific  costs for storage are detailed in \tabref{tab:Storage} and for compute in \tabref {tab:Machines}
the following budgets can be considered. The detailed annual purchasing based on those prices is given for
storage in \tabref{tab:StorageCost} and for compute in \tabref{tab:Rome}.


\input{preOperation}
\input{ops}

\section{Cost details}
The summary table (\tabref{tab:Summary})  uses Xeon pricing for compute as shown in
\tabref{tab:Xeon}.
\input{Xeon}

An alternative architecture would be Rome - SLAC have chosen this for the Ops pricing, \tabref{tab:Rome} gives the price of compute based on Rome -small and large.
Rome large are used in the operations calculations.
\input{Rome}

\tabref{tab:StorageCost} gives the price of storage using all  types that we need.
This would be needed regardless of the compute chosen.
\input{StorageCost}

\tabref{tab:overheadCost} gives the annual cost of hosting compute at NCSA for construction.
This includes purchasing racks to house
new nodes etc.
\input{overheadCost}

\input{opsdetails}


\section{ Models}\label{sec:model}
\subsection{Sizing model}\label{sec:sizemodel}

An exhaustive and detailed mode is provided in  \citedsp{LDM-138,LDM-144} - here we concentrate on the needs for the
final years of construction. We explore the compute and storage needed to get us through commissioning and suggest a 2023 purchase for DR1,2 processing which could be pushed to operations.

\tabref{tab:Inputs} gives the annual requirements for the next few years.

\input{Inputs}

\subsection{Compute and storage }\label{sec:csmodel}
We which to base our budget on reasonable well know machines for which we have well know prices.
\tabref{tab:Machines} gives an outline of a few standard machines we use and a price. This table also gives a FLOP estimate
for those machines.
\tabref{tab:Storage} gives costs for different types of storage - we will require various latency for different tasks
and those have varying costs.
These tables are used as look ups for the cost models in \secref{sec:cost}

\input{Storage}

In \tabref{tab:Storage} we should consider for NVMe for each TB with file system servers two DDN NVMe box with GPFS servers.
The price is based on the TOP performer with best price .
The Normal price is for each TB with file system disks and servers locally attached to production resources.

In the latency and high latency prices are only at NCSA: for each TB with file systems and all people/services.
The complete service not usually attached.   S3 bucket type.
Can be mounted if needed but not for production worthy speeds.
The complete service with data flowing to tape using policies.

\input{Machines}

There is also an associated running cost for machines included in the total cost of ownership.
These overheads are listed in \tabref{tab:overheads}.

\input{overheads}


